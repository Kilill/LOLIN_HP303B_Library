/**
 * 
 *
 */

#ifndef __HP303B_CONSTS_H_
#define __HP303B_CONSTS_H_


	//general Constants
#define HP303B__PROD_ID						0
#define HP303B__STD_SLAVE_ADDRESS 			0x77
#define HP303B__SPI_WRITE_CMD 				0x00
#define HP303B__SPI_READ_CMD 				0x80
#define HP303B__SPI_RW_MASK 				0x80
#define HP303B__SPI_MAX_FREQ 				100000

#define HP303B__LSB 						0x01

#define HP303B__TEMP_STD_MR					2
#define HP303B__TEMP_STD_OSR				3
#define HP303B__PRS_STD_MR					2
#define HP303B__PRS_STD_OSR					3
#define HP303B__OSR_SE 						3

//we use 0.1 mS units for time calculations, so 10 units are one millisecond
#define HP303B__BUSYTIME_SCALING 			10

// DPS310 has 10 milliseconds of spare time for each synchronous measurement / per second for asynchronous measurements
// this is for error prevention on friday-afternoon-products :D
// you can set it to 0 if you dare, but there is no warranty that it will still work
#define HP303B__BUSYTIME_FAILSAFE			10
#define HP303B__MAX_BUSYTIME 				((1000-HP303B__BUSYTIME_FAILSAFE)*HP303B__BUSYTIME_SCALING)
#define HP303B__NUM_OF_SCAL_FACTS			8

#define HP303B__SUCCEEDED 					0
#define HP303B__FAIL_UNKNOWN 				-1
#define HP303B__FAIL_INIT_FAILED 			-2
#define HP303B__FAIL_TOOBUSY 				-3
#define HP303B__FAIL_UNFINISHED 			-4


	//Constants for register manipulation
			//SPI mode (3 or 4 wire)
#define HP303B__REG_ADR_SPI3W 				0x09
#define HP303B__REG_CONTENT_SPI3W 			0x01


			//product id
#define HP303B__REG_INFO_PROD_ID 			HP303B__REG_ADR_PROD_ID,  HP303B__REG_MASK_PROD_ID,  HP303B__REG_SHIFT_PROD_ID
#define HP303B__REG_ADR_PROD_ID 			0x0D
#define HP303B__REG_MASK_PROD_ID 			0x0F
#define HP303B__REG_SHIFT_PROD_ID 			0

			//revision id
#define HP303B__REG_INFO_REV_ID 			HP303B__REG_ADR_REV_ID, HP303B__REG_MASK_REV_ID, HP303B__REG_SHIFT_REV_ID
#define HP303B__REG_ADR_REV_ID 				0x0D
#define HP303B__REG_MASK_REV_ID 			0xF0
#define HP303B__REG_SHIFT_REV_ID 			4

			//operating mode
#define HP303B__REG_INFO_OPMODE 			HP303B__REG_ADR_OPMODE, HP303B__REG_MASK_OPMODE, HP303B__REG_SHIFT_OPMODE
#define HP303B__REG_ADR_OPMODE 				0x08
#define HP303B__REG_MASK_OPMODE 			0x07
#define HP303B__REG_SHIFT_OPMODE 			0


			//temperature measure rate
#define HP303B__REG_INFO_TEMP_MR 			HP303B__REG_ADR_TEMP_MR,  HP303B__REG_MASK_TEMP_MR,  HP303B__REG_SHIFT_TEMP_MR
#define HP303B__REG_ADR_TEMP_MR 			0x07
#define HP303B__REG_MASK_TEMP_MR 			0x70
#define HP303B__REG_SHIFT_TEMP_MR 			4

			//temperature oversampling rate
#define HP303B__REG_INFO_TEMP_OSR 			HP303B__REG_ADR_TEMP_OSR,  HP303B__REG_MASK_TEMP_OSR,  HP303B__REG_SHIFT_TEMP_OSR
#define HP303B__REG_ADR_TEMP_OSR 			0x07
#define HP303B__REG_MASK_TEMP_OSR 			0x07
#define HP303B__REG_SHIFT_TEMP_OSR 			0

			//temperature sensor
#define HP303B__REG_INFO_TEMP_SENSOR 		HP303B__REG_ADR_TEMP_SENSOR,  HP303B__REG_MASK_TEMP_SENSOR,  HP303B__REG_SHIFT_TEMP_SENSOR
#define HP303B__REG_ADR_TEMP_SENSOR 		0x07
#define HP303B__REG_MASK_TEMP_SENSOR 		0x80
#define HP303B__REG_SHIFT_TEMP_SENSOR 		7

			//temperature sensor recommendation
#define HP303B__REG_INFO_TEMP_SENSORREC 	HP303B__REG_ADR_TEMP_SENSORREC,  HP303B__REG_MASK_TEMP_SENSORREC,  HP303B__REG_SHIFT_TEMP_SENSORREC
#define HP303B__REG_ADR_TEMP_SENSORREC 		0x28
#define HP303B__REG_MASK_TEMP_SENSORREC 	0x80
#define HP303B__REG_SHIFT_TEMP_SENSORREC 	7

			//temperature shift enable (if temp_osr>3)
#define HP303B__REG_INFO_TEMP_SE 			HP303B__REG_ADR_TEMP_SE,  HP303B__REG_MASK_TEMP_SE,  HP303B__REG_SHIFT_TEMP_SE
#define HP303B__REG_ADR_TEMP_SE 			0x09
#define HP303B__REG_MASK_TEMP_SE 			0x08
#define HP303B__REG_SHIFT_TEMP_SE 			3


			//pressure measure rate
#define HP303B__REG_INFO_PRS_MR 			HP303B__REG_ADR_PRS_MR,  HP303B__REG_MASK_PRS_MR,  HP303B__REG_SHIFT_PRS_MR
#define HP303B__REG_ADR_PRS_MR 				0x06
#define HP303B__REG_MASK_PRS_MR 			0x70
#define HP303B__REG_SHIFT_PRS_MR 			4

			//pressure oversampling rate
#define HP303B__REG_INFO_PRS_OSR 			HP303B__REG_ADR_PRS_OSR, HP303B__REG_MASK_PRS_OSR, HP303B__REG_SHIFT_PRS_OSR
#define HP303B__REG_ADR_PRS_OSR 			0x06
#define HP303B__REG_MASK_PRS_OSR 			0x07
#define HP303B__REG_SHIFT_PRS_OSR 			0

			//pressure shift enable (if prs_osr>3)
#define HP303B__REG_INFO_PRS_SE 			HP303B__REG_ADR_PRS_SE,  HP303B__REG_MASK_PRS_SE,  HP303B__REG_SHIFT_PRS_SE
#define HP303B__REG_ADR_PRS_SE 				0x09
#define HP303B__REG_MASK_PRS_SE 			0x04
#define HP303B__REG_SHIFT_PRS_SE 			2


			//temperature ready flag
#define HP303B__REG_INFO_TEMP_RDY 			HP303B__REG_ADR_TEMP_RDY,  HP303B__REG_MASK_TEMP_RDY,  HP303B__REG_SHIFT_TEMP_RDY
#define HP303B__REG_ADR_TEMP_RDY 			0x08
#define HP303B__REG_MASK_TEMP_RDY			0x20
#define HP303B__REG_SHIFT_TEMP_RDY 			5

			//pressure ready flag
#define HP303B__REG_INFO_PRS_RDY 			HP303B__REG_ADR_PRS_RDY, HP303B__REG_MASK_PRS_RDY,  HP303B__REG_SHIFT_PRS_RDY
#define HP303B__REG_ADR_PRS_RDY 			0x08
#define HP303B__REG_MASK_PRS_RDY 			0x10
#define HP303B__REG_SHIFT_PRS_RDY 			4

			//pressure value
#define HP303B__REG_ADR_PRS 				0x00
#define HP303B__REG_LEN_PRS 				3

			//temperature value
#define HP303B__REG_ADR_TEMP 				0x03
#define HP303B__REG_LEN_TEMP 				3

			//compensation coefficients
#define HP303B__REG_ADR_COEF 				0x10
#define HP303B__REG_LEN_COEF 				18

			//FIFO enable
#define HP303B__REG_INFO_FIFO_EN 			HP303B__REG_ADR_FIFO_EN, HP303B__REG_MASK_FIFO_EN,  HP303B__REG_SHIFT_FIFO_EN
#define HP303B__REG_ADR_FIFO_EN 			0x09
#define HP303B__REG_MASK_FIFO_EN 			0x02
#define HP303B__REG_SHIFT_FIFO_EN 			1

			//FIFO flush
#define HP303B__REG_INFO_FIFO_FL 			HP303B__REG_ADR_FIFO_EN,  HP303B__REG_MASK_FIFO_EN,  HP303B__REG_SHIFT_FIFO_EN
#define HP303B__REG_ADR_FIFO_FL 			0x0C
#define HP303B__REG_MASK_FIFO_FL 			0x80
#define HP303B__REG_SHIFT_FIFO_FL 			7

			//FIFO empty
#define HP303B__REG_INFO_FIFO_EMPTY 		HP303B__REG_ADR_FIFO_EMPTY, HP303B__REG_MASK_FIFO_EMPTY, HP303B__REG_SHIFT_FIFO_EMPTY
#define HP303B__REG_ADR_FIFO_EMPTY 			0x0B
#define HP303B__REG_MASK_FIFO_EMPTY 		0x01
#define HP303B__REG_SHIFT_FIFO_EMPTY 		0

			//FIFO full
#define HP303B__REG_INFO_FIFO_FULL 			HP303B__REG_ADR_FIFO_FULL,  HP303B__REG_MASK_FIFO_FULL,  HP303B__REG_SHIFT_FIFO_FULL
#define HP303B__REG_ADR_FIFO_FULL 			0x0B
#define HP303B__REG_MASK_FIFO_FULL 			0x02
#define HP303B__REG_SHIFT_FIFO_FULL 		1


			//INT HL
#define HP303B__REG_INFO_INT_HL 			HP303B__REG_ADR_INT_HL,  HP303B__REG_MASK_INT_HL,  HP303B__REG_SHIFT_INT_HL
#define HP303B__REG_ADR_INT_HL 				0x09
#define HP303B__REG_MASK_INT_HL 			0x80
#define HP303B__REG_SHIFT_INT_HL 			7

			//INT FIFO enable
#define HP303B__REG_INFO_INT_EN_FIFO 		HP303B__REG_ADR_INT_EN_FIFO, HP303B__REG_MASK_INT_EN_FIFO, HP303B__REG_SHIFT_INT_EN_FIFO
#define HP303B__REG_ADR_INT_EN_FIFO 		0x09
#define HP303B__REG_MASK_INT_EN_FIFO 		0x40
#define HP303B__REG_SHIFT_INT_EN_FIFO 		6

			//INT TEMP enable
#define HP303B__REG_INFO_INT_EN_TEMP 		HP303B__REG_ADR_INT_EN_TEMP,  HP303B__REG_MASK_INT_EN_TEMP, HP303B__REG_SHIFT_INT_EN_TEMP
#define HP303B__REG_ADR_INT_EN_TEMP 		0x09
#define HP303B__REG_MASK_INT_EN_TEMP 		0x20
#define HP303B__REG_SHIFT_INT_EN_TEMP 		5

			//INT PRS enable
#define HP303B__REG_INFO_INT_EN_PRS 		HP303B__REG_ADR_INT_EN_PRS,  HP303B__REG_MASK_INT_EN_PRS,  HP303B__REG_SHIFT_INT_EN_PRS
#define HP303B__REG_ADR_INT_EN_PRS 			0x09
#define HP303B__REG_MASK_INT_EN_PRS 		0x10
#define HP303B__REG_SHIFT_INT_EN_PRS 		4

			//INT FIFO flag
#define HP303B__REG_INFO_INT_FLAG_FIFO 		HP303B__REG_ADR_INT_FLAG_FIFO, HP303B__REG_MASK_INT_FLAG_FIFO,  HP303B__REG_SHIFT_INT_FLAG_FIFO
#define HP303B__REG_ADR_INT_FLAG_FIFO 		0x0A
#define HP303B__REG_MASK_INT_FLAG_FIFO 		0x04
#define HP303B__REG_SHIFT_INT_FLAG_FIFO 	2

			//INT TMP flag
#define HP303B__REG_INFO_INT_FLAG_TEMP 		HP303B__REG_ADR_INT_FLAG_TEMP,  HP303B__REG_MASK_INT_FLAG_TEMP,  HP303B__REG_SHIFT_INT_FLAG_TEMP
#define HP303B__REG_ADR_INT_FLAG_TEMP 		0x0A
#define HP303B__REG_MASK_INT_FLAG_TEMP 		0x02
#define HP303B__REG_SHIFT_INT_FLAG_TEMP 	1

			//INT PRS flag
#define HP303B__REG_INFO_INT_FLAG_PRS 		HP303B__REG_ADR_INT_FLAG_PRS,  HP303B__REG_MASK_INT_FLAG_PRS, HP303B__REG_SHIFT_INT_FLAG_PRS
#define HP303B__REG_ADR_INT_FLAG_PRS 		0x0A
#define HP303B__REG_MASK_INT_FLAG_PRS 		0x01
#define HP303B__REG_SHIFT_INT_FLAG_PRS 		0

#endif /* DPS310_CONSTS_H_ */
